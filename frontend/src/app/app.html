<header>Randomized Weather App</header>
<form [formGroup]="formControls">
  <label class="inline-block">City <input placeholder="City" formControlName="city" /> </label>
  <label class="inline-block">State <input placeholder="State" formControlName="state" /> </label>
  <label class="inline-block">Zip <input placeholder="Zip" formControlName="zip" /> </label>
</form>

<hr />
<div>
  <button class="inline-block" (click)="refresh$.next()">Refresh</button>
  <button class="inline-block" (click)="addLocation()" [disabled]="!formControls.valid">
    Add +
  </button>
</div>
<hr />
<div>
  @for (weatherState of weatherCities(); track weatherState) {
  <div class="card rounded-2xl border-2 m-1">
    <div class="inline-block px-3">
      <b class="bold">City</b>
      {{ weatherState.city }}
    </div>
    <div class="inline-block px-3">
      <b class="bold">Zip</b>
      {{ weatherState.zip }}
    </div>
    <div class="inline-block px-3">
      <b class="bold">Temp</b>
      {{ weatherState.temperature }} °{{ unitOfMeasure }}
    </div>
    <div class="inline-block px-3">
      <b class="bold">Cloud Coverage</b>
      {{ weatherState.cloudCoverage }} %
    </div>
    <div class="inline-block px-3">
      <b class="bold">Wind Direction</b>
      {{ weatherState.windSpeed }} mph @ {{ weatherState.windDirection }}°
    </div>
    <div class="inline-block px-3">
      <b class="bold">12 month avg</b>
      {{ weatherState.rolling12MonthAvg }} °{{ unitOfMeasure }}
    </div>
  </div>
  }
</div>
<hr />
<div>
  <app-temperature-chart [weatherData]="weatherCities()"></app-temperature-chart>
</div>
